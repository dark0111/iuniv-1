Device={version:"1.1.0",available:false,model:"",gapVersion:"",bigFiveVersion:"",id:"",name:"",os:null,callback:null,commandStack:[],commandWorking:false,isIPhone:false,isAndroid:false,init:function(){try{Device.model=window.bigfive.device_model;Device.version=window.bigfive.device_version;Device.name=window.bigfive.device_name;Device.id=window.bigfive.device_id;Device.gapVersion=window.bigfive.version;Device.bigFiveVersion=window.bigfive.version;Device.available=true}catch(a){alert("Big Five is not supported!")}},exit:function(){Device.exec("exit");return false},start:function(a){Device.callback=a;Device.exec("init")},execStack:function(b){if(b!=null){Device.commandStack.push(b)}else{}if(Device.commandStack.length>0){if((!Device.commandWorking)||(b==null)){Device.commandWorking=true;var a=Device.commandStack.pop();window.setTimeout('document.location = "'+a+'"',0.0001)}}else{Device.commandWorking=false}},exec:function(b,a){if(Device.isIPhone){Device.execStack("device:"+b+":"+(a||""));return true}return false},setStr:function(a,b){if(Device.available){Device.execStack("device:set:"+a+":"+b);return true}return false},setBool:function(a,b){return Device.setStr(a,b?"true":"false")},alert:function(a){Device.exec("alert",a)},msgbox:function(a){Device.exec("alert",a)},safari:function(a){Device.exec("safari",a)},vibrate:function(){return Device.exec("vibrate")},getNetworkStatus:function(a){Device.networkCallback=a;return Device.exec("network")},networkCallback:null,setNavigationBar:function(a){return Device.setBool("navigation",a)},setStatusBar:function(a){return Device.setBool("status",a)},setRotation:function(a){return Device.setBool("rotation",a)},setScale:function(a){return Device.setBool("scale",a)}};Device.Acceleration={callback:null,accelX:0,accelY:0,accelZ:0,start:function(b,a){if(b){Device.Acceleration.callback=b;if(a==null){a=1/40}Device.exec("acceleration_start",a)}else{throw"Callback is obligatory"}},stop:function(){Device.exec("acceleration_stop")}};Device.Console={log:function(a){device.exec("log",a)},error:function(a){device.exec("log","ERROR! "+a)}};Device.Image={callback:null,onerror:null,onpreview:null,oncancel:null,destination:null,counter:1,_exec:function(c,b,f,a,d){Device.Image.callback=f||Device.Image.callback;Device.Image.onerror=a||Device.Image.onerror;Device.Image.oncancel=d||Device.Image.oncancel;Device.Image.destination=b||Device.Image.destination;Device.counter+=1;return Device.exec(c,b)},getFromPhotoLibrary:function(b,d,a,c){return Device.Image._exec("photo_from_library",b,d,a,c)},getFromCamera:function(b,d,a,c){return Device.Image._exec("photo_from_camera",b,d,a,c)},getFromSavedPhotosAlbum:function(b,d,a,c){return Device.Image._exec("photo_from_album",b,d,a,c)},getFromPhotoLibraryToLocal:function(b,c,a){return Device.Image._exec("photo_from_library_to_local",b,c,a)},getFromCameraToLocal:function(b,c,a){return Device.Image._exec("photo_from_camera_to_local",b,c,a)},getFromSavedPhotosAlbumToLocal:function(b,c,a){return Device.Image._exec("photo_from_album_to_local",b,c,a)}};function Coordinates(b,a){this.latitude=b;this.longitude=a;this.altitude=null;this.accuracy=null;this.altitudeAccuracy=null;this.heading=null;this.speed=null}function Position(b,a){this.coords=new Coordinates(b,a);this.timestamp=null}function PositionError(){this.code=0;this.message=null}PositionError.UNKNOWN_ERROR=0;PositionError.PERMISSION_DENIED=1;PositionError.POSITION_UNAVAILABLE=2;PositionError.TIMEOUT=3;__device_did_update_location=null;__device_location_error=null;Device.Location={position:{lat:0,lon:0,oldLat:0,oldLon:0},callback:null,onerror:null,options:{},watch:false,init:function(){Device.exec("location")},_set:function(c,d,a,b){Device.Location.position.lat=c;Device.Location.position.lon=d;Device.Location.position.oldLat=a;Device.Location.position.oldLon=b;if(Device.Location.callback!=null){Device.Location.callback(Device.Location.position);Device.Location.callback=null}},last:function(a){if((Device.Location.lat!=0)&&(Device.Location.lon!=0)){a(Device.Location.lat,Device.Location.lon)}else{Device.Location.wait(a)}},wait:function(a){Device.Location.callback=a;__device_did_update_location=function(d,f,b,c){return Device.Location._set(d,f,b,c)};__device_location_error=function(b,c){if(Device.Location.onerror){Device.Location.onerror(b,c)}};Device.exec("location")},getCurrentPosition:function(a,b,c){var c=c||{};Device.Location.options=c;Device.Location.enableHighAccuracy=!!c.enableHighAccuracy;Device.Location.timeout=c.timeout;Device.Location.maximumAge=c.maximumAge;__device_did_update_location=function(h,i,f,g){var d=new Position(h,i);if(a){a(d)}if(Device.Location.watch){Device.exec("location")}else{a=null}};__device_location_error=function(f,g){var d=new PositionError();d.code=PositionError.UNKNOWN_ERROR;d.message=g;if(b){b(d)}if(!Device.Location.watch){b=null}};Device.exec("location")},watchPosition:function(a,b,c){Device.watch=false;Device.Location.getCurrentPosition(a,b,c);return 0},clearWatch:function(a){Device.watch=false}};function __device_init(a){Device.init();if(Device.callback){Device.callback()}}function __device_next_command(){Device.execStack(null)}function __device_did_get_image(a){if(Device.Image.onpreview){return Device.Image.onpreview(a)}}function __device_did_finish_image_upload(a){return Device.Image.callback()}function __device_photo_dialog_cancel(){if(Device.Image.oncancel){return Device.Image.oncancel("Cancel")}}function __device_did_fail_image_upload(a){if(Device.Image.onerror){return Device.Image.onerror(a)}}function __device_did_accelerate(a,c,b){if((!isNaN(a))&&(!isNaN(c))&&(!isNaN(b))){Device.Acceleration.accelX=a;Device.Acceleration.accelY=c;Device.Acceleration.accelZ=b}if(Device.Acceleration.callback){Device.Acceleration.callback(a,c,b)}}function __device_network_status(a){Device.networkCallback(a)}try{$}catch(e){$=function(a){return document.getElementById(a)}}try{Device.isIPhone=navigator.userAgent.toLowerCase().indexOf("iphone")>0}catch(e){}try{if(navigator){if(!("geolocation" in navigator)){navigator.geolocation=Device.Location}}}catch(e){};